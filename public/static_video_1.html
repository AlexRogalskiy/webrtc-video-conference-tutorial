<!DOCTYPE html>
<html>

<head>
    <title>WebRTC Video Conference - Media Server</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <style>
        #meetingRoom div {
            text-align: center;
        }

        .videoContainer {
            float: left;
        }

        #meetingRoom:after {
            content: '';
            display: block;
            clear: both;
        }
        #static-video {
            visibility: hidden;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1 id="the-title">WebRTC Video Conference</h1>

        <form id="roomSelection">
            <div class="form-group">
                <label for="name">Username</label>
                <input type="text" class="form-control" id="name" placeholder="Enter username">
            </div>
            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" class="form-control" id="password" placeholder="Password">
            </div>
            <div class="form-group">
                <label for="room">Room name</label>
                <input type="text" class="form-control" id="room" placeholder="Room name">
            </div>
            <button type="button" id="register" class="btn btn-primary">Enter</button>
            <button type="button" id="withToken" class="btn btn-secondary">Enter With Token</button>
        </form>

        <div id="meetingRoom" style="display: none">
        </div>

        <video id="static-video" width="320" height="240" controls autoplay loop>
            <source src="vc-1.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>

    <script>
        var vid = document.getElementById("static-video");
        setInterval(function () {
            vid.play();
        }, 1000);

        var header_title = document.getElementById("the-title");
        var title_interval= setInterval(function () {
            if (userName) {
                header_title.innerText = "WebRTC Video Conference - " + userName;
                document.querySelector("body").style.backgroundColor = 'pink';
                clearInterval(title_interval); 
            }
        }, 1000);

    </script>


    <script src="adapter_static_video.js"></script>


    <script src="kurento-utils.min.js"></script>
    <script src="socket.io.js"></script>
    <script src="client.js"></script>

</body>
</html>
